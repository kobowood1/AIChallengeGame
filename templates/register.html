{% extends "base.html" %}

{% block title %}Republic of Bean - Participant Registration{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <!-- Header Section -->
    <div class="text-center mb-12">
        <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-challenge-green to-challenge-teal rounded-2xl shadow-lg mb-6">
            <i class="fas fa-user-edit text-white text-2xl"></i>
        </div>
        
        <h1 class="text-3xl font-bold text-gray-900 mb-4">
            Participant Registration
        </h1>
        <p class="text-lg text-gray-600 max-w-lg mx-auto">
            Help us personalize your experience in the Republic of Bean policy simulation
        </p>
    </div>

    <!-- Registration Form Card -->
    <div class="bg-white rounded-2xl shadow-lg border border-gray-200 p-8">
        <form class="space-y-8" action="/register" method="POST">
            {{ form.hidden_tag() }}
            
            <!-- Personal Information Section -->
            <div>
                <h3 class="text-lg font-semibold text-gray-900 mb-6 flex items-center">
                    <div class="w-8 h-8 bg-challenge-blue rounded-lg flex items-center justify-center mr-3">
                        <i class="fas fa-user text-white text-sm"></i>
                    </div>
                    Personal Information
                </h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Age Field -->
                    <div>
                        {{ form.age.label(class="block text-sm font-semibold text-gray-700 mb-2") }}
                        {{ form.age(class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-challenge-blue focus:border-challenge-blue transition-all duration-200 font-medium", placeholder="Enter your age") }}
                        {% if form.age.errors %}
                            <div class="mt-2 flex items-start text-red-600 text-sm">
                                <i class="fas fa-exclamation-circle mt-0.5 mr-2 flex-shrink-0"></i>
                                <div>
                                    {% for error in form.age.errors %}
                                        <div>{{ error }}</div>
                                    {% endfor %}
                                </div>
                            </div>
                        {% endif %}
                    </div>

                    <!-- Nationality Field -->
                    <div>
                        {{ form.nationality.label(class="block text-sm font-semibold text-gray-700 mb-2") }}
                        {{ form.nationality(class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-challenge-blue focus:border-challenge-blue transition-all duration-200 font-medium", placeholder="Enter your nationality") }}
                        {% if form.nationality.errors %}
                            <div class="mt-2 flex items-start text-red-600 text-sm">
                                <i class="fas fa-exclamation-circle mt-0.5 mr-2 flex-shrink-0"></i>
                                <div>
                                    {% for error in form.nationality.errors %}
                                        <div>{{ error }}</div>
                                    {% endfor %}
                                </div>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>

            <!-- Professional Information Section -->
            <div>
                <h3 class="text-lg font-semibold text-gray-900 mb-6 flex items-center">
                    <div class="w-8 h-8 bg-challenge-green rounded-lg flex items-center justify-center mr-3">
                        <i class="fas fa-briefcase text-white text-sm"></i>
                    </div>
                    Professional Background
                </h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Occupation Field -->
                    <div>
                        {{ form.occupation.label(class="block text-sm font-semibold text-gray-700 mb-2") }}
                        {{ form.occupation(class="w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-challenge-blue focus:border-challenge-blue transition-all duration-200 font-medium", placeholder="Enter your occupation") }}
                        {% if form.occupation.errors %}
                            <div class="mt-2 flex items-start text-red-600 text-sm">
                                <i class="fas fa-exclamation-circle mt-0.5 mr-2 flex-shrink-0"></i>
                                <div>
                                    {% for error in form.occupation.errors %}
                                        <div>{{ error }}</div>
                                    {% endfor %}
                                </div>
                            </div>
                        {% endif %}
                    </div>

                    <!-- Education Level Field -->
                    <div>
                        {{ form.education_level.label(class="block text-sm font-semibold text-gray-700 mb-2") }}
                        {{ form.education_level(class="w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-challenge-blue focus:border-challenge-blue transition-all duration-200 font-medium") }}
                        {% if form.education_level.errors %}
                            <div class="mt-2 flex items-start text-red-600 text-sm">
                                <i class="fas fa-exclamation-circle mt-0.5 mr-2 flex-shrink-0"></i>
                                <div>
                                    {% for error in form.education_level.errors %}
                                        <div>{{ error }}</div>
                                    {% endfor %}
                                </div>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>

            <!-- Background Information Section -->
            <div>
                <h3 class="text-lg font-semibold text-gray-900 mb-6 flex items-center">
                    <div class="w-8 h-8 bg-challenge-orange rounded-lg flex items-center justify-center mr-3">
                        <i class="fas fa-heart text-white text-sm"></i>
                    </div>
                    Background Information
                </h3>
                
                <!-- Displacement Experience Field -->
                <div>
                    {{ form.displacement_experience.label(class="block text-sm font-semibold text-gray-700 mb-2") }}
                    {{ form.displacement_experience(class="w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-challenge-blue focus:border-challenge-blue transition-all duration-200 font-medium", rows="4", placeholder="Share your experience if you feel comfortable (optional)") }}
                    {% if form.displacement_experience.errors %}
                        <div class="mt-2 flex items-start text-red-600 text-sm">
                            <i class="fas fa-exclamation-circle mt-0.5 mr-2 flex-shrink-0"></i>
                            <div>
                                {% for error in form.displacement_experience.errors %}
                                    <div>{{ error }}</div>
                                {% endfor %}
                            </div>
                        </div>
                    {% endif %}
                    <p class="mt-2 text-sm text-gray-600 flex items-center">
                        <i class="fas fa-info-circle mr-2 text-gray-400"></i>
                        This field is optional and helps us understand diverse perspectives
                    </p>
                </div>
            </div>

            <!-- Location Information Section -->
            <div>
                <h3 class="text-lg font-semibold text-gray-900 mb-6 flex items-center">
                    <div class="w-8 h-8 bg-challenge-purple rounded-lg flex items-center justify-center mr-3">
                        <i class="fas fa-map-marker-alt text-white text-sm"></i>
                    </div>
                    Current Location
                </h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        {{ form.current_location_city.label(class="block text-sm font-semibold text-gray-700 mb-2") }}
                        {{ form.current_location_city(class="w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-challenge-blue focus:border-challenge-blue transition-all duration-200 font-medium", placeholder="Enter your current city") }}
                        {% if form.current_location_city.errors %}
                            <div class="mt-2 flex items-start text-red-600 text-sm">
                                <i class="fas fa-exclamation-circle mt-0.5 mr-2 flex-shrink-0"></i>
                                <div>
                                    {% for error in form.current_location_city.errors %}
                                        <div>{{ error }}</div>
                                    {% endfor %}
                                </div>
                            </div>
                        {% endif %}
                    </div>

                    <div>
                        {{ form.current_location_country.label(class="block text-sm font-semibold text-gray-700 mb-2") }}
                        {{ form.current_location_country(class="w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-challenge-blue focus:border-challenge-blue transition-all duration-200 font-medium", placeholder="Enter your current country") }}
                        {% if form.current_location_country.errors %}
                            <div class="mt-2 flex items-start text-red-600 text-sm">
                                <i class="fas fa-exclamation-circle mt-0.5 mr-2 flex-shrink-0"></i>
                                <div>
                                    {% for error in form.current_location_country.errors %}
                                        <div>{{ error }}</div>
                                    {% endfor %}
                                </div>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>

            <!-- Privacy Notice -->
            <div class="bg-blue-50 border border-blue-200 rounded-xl p-6">
                <div class="flex items-start">
                    <div class="flex-shrink-0">
                        <i class="fas fa-shield-alt text-challenge-blue text-xl"></i>
                    </div>
                    <div class="ml-4">
                        <h3 class="text-sm font-semibold text-gray-900 mb-2">
                            Privacy & Data Security
                        </h3>
                        <p class="text-sm text-gray-700 leading-relaxed">
                            Your information is used exclusively for this educational policy simulation. 
                            All data is stored securely and will never be shared with third parties. 
                            You can request data deletion at any time.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="pt-6">
                {{ form.submit(class="w-full bg-gradient-to-r from-challenge-blue to-challenge-teal hover:from-blue-600 hover:to-teal-600 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-challenge-blue focus:ring-offset-2 text-lg") }}
            </div>

            <!-- Navigation Links -->
            <div class="mt-8 pt-6 border-t border-gray-200 text-center">
                <a href="{{ url_for('main.dashboard') }}" class="text-gray-500 hover:text-gray-700 transition-colors duration-200 inline-flex items-center text-sm">
                    <i class="fas fa-arrow-left mr-2"></i>
                    Back to dashboard
                </a>
            </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}